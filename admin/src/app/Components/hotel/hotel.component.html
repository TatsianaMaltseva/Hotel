<div *ngIf="!isAdmin;then simpleHotel"></div>
<div *ngIf="isAdmin;then changeHotel"></div>

<ng-template #simpleHotel>
    <mat-card>
        <mat-card-content>
            <div>
                <mat-card-title>
                    {{hotel.name}}
                </mat-card-title>
            </div>
            <div>
                <mat-card-subtitle>
                    {{hotel.country}} {{hotel.city}} {{hotel.address}}
                </mat-card-subtitle>
            </div>
            <div>
                <app-images></app-images>
            </div>
            <div>
                {{hotel.description}}
            </div>
        </mat-card-content>
    </mat-card>
</ng-template>

<ng-template #changeHotel>
    <form [formGroup]="changeHotelForm">
        <mat-card>
            <mat-card-title>Edit hotel information</mat-card-title>
            <mat-card-subtitle>Click "Save changes" button at the bottom of the page to apply changes</mat-card-subtitle>
            <mat-card-content>
                <mat-form-field class="input-field">
                    <span matPrefix>Name | </span>
                    <input
                        matInput
                        formControlName="newName"
                        placeholder="{{hotel.name}}"
                    >
                    <mat-error>
                        Hotel name is too long
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="input-field">
                    <span matPrefix>Country | </span>
                    <input
                        matInput
                        formControlName="newCountry"
                        placeholder="{{hotel.country}}"
                    >
                    <mat-error>
                        Contry value is too long
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="input-field">
                    <span matPrefix>City | </span>
                    <input
                        matInput
                        formControlName="newCity"
                        placeholder="{{hotel.city}}"
                    >
                    <mat-error>
                        City value is too long
                    </mat-error>
                </mat-form-field>
                <mat-form-field class="input-field">
                    <span matPrefix>Address | </span>
                    <input
                        matInput
                        formControlName="newAddress"
                        placeholder="{{hotel.address}}"
                    >
                    <mat-error>
                        Address value is too long
                    </mat-error>
                </mat-form-field>
                <app-images></app-images>
                <mat-form-field class="input-field">
                    <textarea 
                        matInput
                        formControlName="newDescription"
                        value="{{hotel.description}}"
                        cdkTextareaAutosize
                        cdkAutosizeMinRows="2"
                        cdkAutosizeMaxRows="35"
                    ></textarea>
                    <mat-error *ngIf="newDescription?.invalid">
                        Description is very long
                    </mat-error>
                  </mat-form-field>
                <mat-card-actions>
                    <button
                        mat-button
                        [disabled]="changeHotelForm.invalid"
                        (click)="editHotel()"
                    >
                        Save changes  
                    </button>
                </mat-card-actions>
            </mat-card-content>
        </mat-card>
    </form>
</ng-template>