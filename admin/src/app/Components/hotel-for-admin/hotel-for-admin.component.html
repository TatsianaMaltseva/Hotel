<mat-progress-spinner *ngIf="loading" [mode]="'indeterminate'"></mat-progress-spinner>
<form *ngIf="isHotelLoaded" [formGroup]="hotelForm">
    <mat-card>
        <mat-card-title>Edit hotel information</mat-card-title>
        <mat-card-content>
            <mat-form-field class="input-field">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name">
                <mat-error *ngIf="checkIfHasRequiredError('name')">
                    Hotel name is required
                </mat-error>
                <mat-error *ngIf="checkIfHasMaxErrorError('name')">
                    Hotel name value should have less than {{ getMaxLengthValue('name') }} symbols
                </mat-error>
            </mat-form-field>
            <mat-form-field class="input-field">
                <mat-label>Country</mat-label>
                <input matInput formControlName="country">
                <mat-error *ngIf="checkIfHasRequiredError('country')">
                    Country is required
                </mat-error>
                <mat-error *ngIf="checkIfHasMaxErrorError('country')">
                    Country value should have less than {{ getMaxLengthValue('country') }} symbols
                </mat-error>
            </mat-form-field>
            <mat-form-field class="input-field">
                <mat-label>City</mat-label>
                <input matInput formControlName="city">
                <mat-error *ngIf="checkIfHasRequiredError('city')">
                    City is required
                </mat-error>
                <mat-error *ngIf="checkIfHasMaxErrorError('city')">
                    City value should have less than {{ getMaxLengthValue('city') }} symbols
                </mat-error>
            </mat-form-field>
            <mat-form-field class="input-field">
                <mat-label>Address</mat-label>
                <input matInput formControlName="address">
                <mat-error *ngIf="checkIfHasRequiredError('address')">
                    Address is required
                </mat-error>
                <mat-error *ngIf="checkIfHasMaxErrorError('address')">
                    Address value should have less than {{ getMaxLengthValue('address') }} symbols
                </mat-error>
            </mat-form-field>
            <mat-form-field class="input-field">
                <mat-label>Description</mat-label>
                <textarea 
                    matInput
                    cdkTextareaAutosize
                    formControlName="description"
                    cdkAutosizeMinRows="2"
                    cdkAutosizeMaxRows="35"
                ></textarea>
                <mat-error>
                    Description value should have less than {{ getMaxLengthValue('description') }} symbols
                </mat-error>
            </mat-form-field>
            <mat-form-field class="input-field">
                <input 
                    matInput
                    readonly
                    formControlName="checkInTime"
                    placeholder="Check in time"
                    [max]="'12:00'"
                    [format]="24"
                    [ngxTimepicker]="checkInTimepicker"
                >
            </mat-form-field>
            <ngx-material-timepicker #checkInTimepicker></ngx-material-timepicker>
            <mat-form-field class="input-field">
                <input 
                    matInput
                    readonly
                    formControlName="checkOutTime"
                    placeholder="Check out time"
                    [min]="'12:00'"
                    [format]="24"
                    [ngxTimepicker]="checkOutTimepicker"
                >
            </mat-form-field>
            <ngx-material-timepicker #checkOutTimepicker></ngx-material-timepicker>
            <mat-error *ngIf="serverErrorResponse">
                {{ serverErrorResponse }}
            </mat-error>
            <mat-card-actions *ngIf="isHotelExistInDataBase">
                <button
                    mat-button
                    [disabled]="hotelForm.invalid"
                    (click)="editHotel()"
                >
                    <mat-icon>save</mat-icon>save changes  
                </button>
                <button mat-button (click)="openFacilitiesDialog()">
                    <mat-icon>add_shopping_cart</mat-icon>facilities
                </button>
            </mat-card-actions>
            <app-images-for-admin *ngIf="isHotelExistInDataBase" [hotel]="hotel"></app-images-for-admin>
            <app-rooms-for-admin *ngIf="isHotelExistInDataBase" [hotel]="hotel"></app-rooms-for-admin>
            <mat-card-actions *ngIf="!isHotelExistInDataBase">
                <button 
                    mat-button
                    (click)="addHotel()"
                    [disabled]="hotelForm.invalid"
                >
                    <mat-icon>save</mat-icon>add hotel
                </button>
            </mat-card-actions>
        </mat-card-content>
    </mat-card>
</form>
